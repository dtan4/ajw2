{
    "application": {
        "name": "Ajw2 Calendar",
        "css": [
            {
                "remote": false, "src": "fullcalendar.css"
            }
        ],
        "js": [
            {
                "remote": false, "src": "fullcalendar.js",
                "remote": false, "src": "main.js"
            }
        ]
    },
    "interface": {
        "elements": [
            {
                "type": "panel",
                "id": "panel_1",
                "children": [
                    {
                        "type": "datetime",
                        "id": "eventDate",
                        "children": [],
                        "formVisible": false
                    },
                    {
                        "type": "text",
                        "id": "eventTitle",
                        "children": [],
                        "formVisible": false
                    },
                    {
                        "type": "button",
                        "id": "addEventBtn",
                        "children": [],
                        "formVisible": false
                    }
                ],
                "formVisible": false
            },
            {
                "type": "panel",
                "id": "fullcalendar",
                "children": [],
                "formVisible": true
            }
        ]
    },
    "database": {
        "dbType": "sqlite",
        "tables": [
            {
                "name": "events",
                "fields": [
                    {
                        "name": "title",
                        "type": "string"
                    },
                    {
                        "name": "date",
                        "type": "datetime"
                    }
                ]
            }
        ]
    },
    "event": {
        "events": [
            {
                "id": "events_1",
                "trigger": {
                    "target": "addEventBtn",
                    "type": "onClick",
                    "params": [
                        {
                            "id": "eventDate",
                            "type": "datetime",
                            "value": {
                                "type": "element",
                                "element": "eventDate",
                                "func": "getValue"
                            }
                        },
                        {
                            "id": "eventTitle",
                            "type": "string",
                            "value": {
                                "type": "element",
                                "element": "eventTitle",
                                "func": "getValue"
                            }
                        }
                    ]
                },
                "action":{
                    "type": "always",
                    "actions": [
                        {
                            "id": "db01",
                            "type": "database",
                            "database": "events",
                            "func": "create",
                            "where": [],
                            "fields": [
                                {
                                    "field": "title",
                                    "value":{
                                        "type": "param",
                                        "id": "eventTitle"
                                    }
                                },
                                {
                                    "field": "date",
                                    "value":{
                                        "type": "param",
                                        "id": "eventDate"
                                    }
                                }
                            ]
                        },
                        {
                            "id": "callSc01",
                            "type": "call",
                            "callType": "script",
                            "params": [
                                {
                                    "field": "title",
                                    "value": {
                                        "type": "param",
                                        "id": "eventTitle"
                                    }
                                },
                                {
                                    "field": "date",
                                    "value": {
                                        "type": "param",
                                        "id": "eventDate"
                                    }
                                }
                            ],
                            "script": "$('#fullcalendar').fullCalendar('renderEvent', {title: callSc01.title, start: callSc01.date})"
                        }
                    ]
                }
            }
        ]
    }
}
