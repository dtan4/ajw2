event:
  trigger:
    id: event01
    target: submitBtn
    type: onClick
    realtime: false
    params:
    - id: message
      type: string
      value:
        element: messageTextBox
        func: getValue
        type: element
    - id: newMessage
      type: string
      value:
        element: newMessageTextBox
        func: getValue
        type: element
  action:
    type: always
    actions:
    - id: db01
      type: database
      database: messages
      func: read
      where:
      - field: message
        value:
          type: param
          id: message
      fields: []
    - id: if01
      type: interface
      element: messageLabel
      func: setValue
      value:
        type: database
        id: db01
        field: message
ruby: |
  post "/event01" do
    content_type :json
    response = { _db_errors: {} }
    message = params[:message]
    newMessage = params[:newMessage]
    db01 = Message.where(
      message: message
    )
    response[:if01] = db01.message
    response.to_json
  end
